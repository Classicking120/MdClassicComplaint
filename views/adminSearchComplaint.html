{! import('mdClassicComplaint', 'MdClassicComplaintControllers.php'); !}
{! import('mdClassicComplaint', 'complaintStyle.css') !}

{% 

$user_login_id = Session::get('user_id');

%}

<html>
    <head>
        <title>Complaint Track</title>
    </head>
    
    <body style="background: rgba(0, 0, 0, 0.1);">

        <div style="margin-top: 26px; text-align:center;">
            <img src="{!lifetech_media_path()!}/lifetech_logo.png" alt="logo" width="100" height="100"; style="border-radius: 10px">
        </div>
    
        <div class="py-5 px-3">
            <div class="container mt-2 px-4 shadow-lg rounded bg-light">
              
                <div class="row">
                     <div class="col-12 ">
                        <div class="container"> 
                            <form>
                                <div class="d-flex flex-wrap align-items-center justify-content-center my-4">                  
                                    <!--<div class="form-group me-3 mb-2 w-50">-->
                                        <div class="form-group me-3 w-50">
                                            <label for="email" class="form-label"> Search Student Ticket </label>
                                            <input type="text" class="form-control p-2 border-0" id="email" placeholder="Username / Matric No">
                                        </div>
                                    <!--</div>-->
                                    <button class="btn btn-primary me-2" style="margin-top:30px; padding:7px 7px;" type="button" id="search_button">
                                        <i class="bi bi-search"></i> Search
                                    </button>
                                </div> 
                            </form>
                        </div>
                    </div>
                </div>
               <div class="row d-none" id="displayComplaint">
                     <div class="col-12">
                        <div class="container my-4"> 
                            <div class="card-body table-responsive">
                                <table id="example" class="table table-striped table-hover dt-responsive" style="width:100%" cellspacing="0" >
                                    <thead>
                                        <tr>
                                            <th>S/N</th>
                                            <th>Ticket ID</th>
                                            <th>Subject</th>
                                            <th>Complaint</th>
                                            <th>Date/Time</th>
                                            <th>Status</th>
                                            <th>Image</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                       
                                    </tbody>
                                    <tfoot>
                                            <tr>
                                                <th>S/N</th>
                                                <th>Ticket ID</th>
                                                <th>Subject</th>
                                                <th>Complaint</th>
                                                <th>Date/Time</th>
                                                <th>Status</th>
                                                <th>Image</th>
                                                <th>Action</th>
                                            </tr>
                                    </tfoot>
                                </table>
                            </div>
                          
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>




<div id="updateModal" class="modal fade" tabindex="-1" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title mt-0" id="myModalLabel">Update Status</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <!--modal-body -->
            <form class="form-horizontal" id="frmComplaintUpdate">
                <div class="modal-body">
                    
                    <form id="frmUpdateStatus">
                        
                        <div class="md-3">
                            
                            <label class="form-label" for="complaintStatus"> Complaint Status</label>
                            <select class="form-select" id="complaintStatus">
                                <option value="1">Escalated</option>
                                <option value="2">Pending</option>
                                <option value="3">In Progress</option>
                                <option value="4">Resolved</option>
                                <option value="5">Closed</option>
                                <option value="6">Rejected</option>
                            </select>
                        </div>
                        
                    </form>
                  
                </div>
                <div class="modal-footer">
                    <input type="hidden" class="form-control" id="complaint_updateID" value="">
                  <button type="button" class="btn btn-primary waves-effect waves-light" id="btnUpdateComplaint" name="btnUpdateComplaint">Update</button>
                </div>
            </form>

        </div>
    </div>
</div>



<!--Modal for Response Starts-->

<div id="responseModal" class="modal fade" tabindex="-1" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title mt-0" id="myModalLabel">Feedback</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <!--modal-body -->
            <form class="form-horizontal" id="frmComplaintResponse">
                <div class="modal-body">
                      <div id="repliesSection" class="chat-box">
                        <!--Chat Message Display-->
                          
                      </div>  
                  
                </div>
                  
                <div class="modal-footer row g-2 align-items-center">
                    <div class="col-md-8 w-100">
                        <label for="complaint" class="form-label"><b>Reply:</b></label>
                        <textarea class="form-control border-0" id="description" placeholder="Please provide your feedback..." name="description"></textarea>
                        <p id="wordCount" class="text-danger small m-0">0 / 100 words</p>
                    </div>
                    <div class="col-md-4 text-end">
                        <button class="btn btn-primary w-50 reply" id="btnAddReply">Reply</button>
                        <input type="hidden" id="user_id" data-sender="Admin" value="{! $user_login_id !} "> 
                        <input type="hidden" id="ticket_id" value=""> 
                    </div>
                </div>

            </form>

        </div>
    </div>
</div>





<!--Modal for Response Ends-->



      
      
<script>
    
$(function(){
    
 
    
})
    
    
    
    
</script>
      
      
  {! import('mdClassicComplaint', 'complaintScript.js') !}        
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      